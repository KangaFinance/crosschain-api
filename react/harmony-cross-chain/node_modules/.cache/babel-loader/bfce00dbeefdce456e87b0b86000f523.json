{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HmyMethodsDeposit = void 0;\n\nconst helpers_1 = require(\"./helpers\");\n\nconst utils_1 = require(\"../utils\");\n\nconst HmyMethods_1 = require(\"./HmyMethods\");\n\nclass HmyMethodsDeposit extends HmyMethods_1.HmyMethods {\n  constructor() {\n    super(...arguments);\n\n    this.deposit = async (amount, sendTxCallback) => {\n      return new Promise(async (resolve, reject) => {\n        try {\n          if (this.useOneWallet) {\n            await helpers_1.connectToBrowserWallet(window.onewallet, this.hmy, this.hmyManagerContract.wallet, null, reject);\n          }\n\n          if (this.useMathWallet) {\n            await helpers_1.connectToBrowserWallet(window.harmony, this.hmy, this.hmyManagerContract.wallet, null, reject);\n          }\n\n          const response = await this.hmyManagerContract.methods.deposit(utils_1.withDecimals(amount, 18)).send(Object.assign(Object.assign({}, this.options), {\n            value: utils_1.withDecimals(amount, 18)\n          })).on('transactionHash', sendTxCallback);\n          resolve(response);\n        } catch (e) {\n          reject(e);\n        }\n      });\n    };\n  }\n\n}\n\nexports.HmyMethodsDeposit = HmyMethodsDeposit;","map":{"version":3,"sources":["/Users/borispolania/Documents/GitHub/crosschain-api/react/harmony-cross-chain/node_modules/bridge-sdk/lib/blockchain/hmy/HmyMethodsDeposit.js"],"names":["Object","defineProperty","exports","value","HmyMethodsDeposit","helpers_1","require","utils_1","HmyMethods_1","HmyMethods","constructor","arguments","deposit","amount","sendTxCallback","Promise","resolve","reject","useOneWallet","connectToBrowserWallet","window","onewallet","hmy","hmyManagerContract","wallet","useMathWallet","harmony","response","methods","withDecimals","send","assign","options","on","e"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,iBAAR,GAA4B,KAAK,CAAjC;;AACA,MAAMC,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,UAAD,CAAvB;;AACA,MAAME,YAAY,GAAGF,OAAO,CAAC,cAAD,CAA5B;;AACA,MAAMF,iBAAN,SAAgCI,YAAY,CAACC,UAA7C,CAAwD;AACpDC,EAAAA,WAAW,GAAG;AACV,UAAM,GAAGC,SAAT;;AACA,SAAKC,OAAL,GAAe,OAAOC,MAAP,EAAeC,cAAf,KAAkC;AAC7C,aAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC1C,YAAI;AACA,cAAI,KAAKC,YAAT,EAAuB;AACnB,kBAAMb,SAAS,CAACc,sBAAV,CAAiCC,MAAM,CAACC,SAAxC,EAAmD,KAAKC,GAAxD,EAA6D,KAAKC,kBAAL,CAAwBC,MAArF,EAA6F,IAA7F,EAAmGP,MAAnG,CAAN;AACH;;AACD,cAAI,KAAKQ,aAAT,EAAwB;AACpB,kBAAMpB,SAAS,CAACc,sBAAV,CAAiCC,MAAM,CAACM,OAAxC,EAAiD,KAAKJ,GAAtD,EAA2D,KAAKC,kBAAL,CAAwBC,MAAnF,EAA2F,IAA3F,EAAiGP,MAAjG,CAAN;AACH;;AACD,gBAAMU,QAAQ,GAAG,MAAM,KAAKJ,kBAAL,CAAwBK,OAAxB,CAClBhB,OADkB,CACVL,OAAO,CAACsB,YAAR,CAAqBhB,MAArB,EAA6B,EAA7B,CADU,EAElBiB,IAFkB,CAEb9B,MAAM,CAAC+B,MAAP,CAAc/B,MAAM,CAAC+B,MAAP,CAAc,EAAd,EAAkB,KAAKC,OAAvB,CAAd,EAA+C;AAAE7B,YAAAA,KAAK,EAAEI,OAAO,CAACsB,YAAR,CAAqBhB,MAArB,EAA6B,EAA7B;AAAT,WAA/C,CAFa,EAGlBoB,EAHkB,CAGf,iBAHe,EAGInB,cAHJ,CAAvB;AAIAE,UAAAA,OAAO,CAACW,QAAD,CAAP;AACH,SAZD,CAaA,OAAOO,CAAP,EAAU;AACNjB,UAAAA,MAAM,CAACiB,CAAD,CAAN;AACH;AACJ,OAjBM,CAAP;AAkBH,KAnBD;AAoBH;;AAvBmD;;AAyBxDhC,OAAO,CAACE,iBAAR,GAA4BA,iBAA5B","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HmyMethodsDeposit = void 0;\nconst helpers_1 = require(\"./helpers\");\nconst utils_1 = require(\"../utils\");\nconst HmyMethods_1 = require(\"./HmyMethods\");\nclass HmyMethodsDeposit extends HmyMethods_1.HmyMethods {\n    constructor() {\n        super(...arguments);\n        this.deposit = async (amount, sendTxCallback) => {\n            return new Promise(async (resolve, reject) => {\n                try {\n                    if (this.useOneWallet) {\n                        await helpers_1.connectToBrowserWallet(window.onewallet, this.hmy, this.hmyManagerContract.wallet, null, reject);\n                    }\n                    if (this.useMathWallet) {\n                        await helpers_1.connectToBrowserWallet(window.harmony, this.hmy, this.hmyManagerContract.wallet, null, reject);\n                    }\n                    const response = await this.hmyManagerContract.methods\n                        .deposit(utils_1.withDecimals(amount, 18))\n                        .send(Object.assign(Object.assign({}, this.options), { value: utils_1.withDecimals(amount, 18) }))\n                        .on('transactionHash', sendTxCallback);\n                    resolve(response);\n                }\n                catch (e) {\n                    reject(e);\n                }\n            });\n        };\n    }\n}\nexports.HmyMethodsDeposit = HmyMethodsDeposit;\n"]},"metadata":{},"sourceType":"script"}