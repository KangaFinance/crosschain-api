{"ast":null,"code":"\"use strict\";\n/**\n * @packageDocumentation\n * @module harmony-utils\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Unit = exports.fromWei = exports.toWei = exports.hexToBN = exports.hexToNumber = exports.numberToHex = exports.strip0x = exports.add0xToString = exports.numToStr = exports.numberToString = exports.unitMap = exports.Units = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar bn_js_1 = tslib_1.__importDefault(require(\"bn.js\"));\n\nvar validators_1 = require(\"./validators\");\n\nvar Units;\n\n(function (Units) {\n  Units[\"wei\"] = \"wei\";\n  Units[\"Kwei\"] = \"Kwei\";\n  Units[\"Mwei\"] = \"Mwei\";\n  Units[\"Gwei\"] = \"Gwei\";\n  Units[\"szabo\"] = \"szabo\";\n  Units[\"finney\"] = \"finney\";\n  Units[\"ether\"] = \"ether\";\n  Units[\"one\"] = \"one\";\n  Units[\"Kether\"] = \"Kether\";\n  Units[\"Mether\"] = \"Mether\";\n  Units[\"Gether\"] = \"Gether\";\n  Units[\"Tether\"] = \"Tether\";\n})(Units = exports.Units || (exports.Units = {}));\n/** @hidden */\n\n\nexports.unitMap = new Map([[Units.wei, '1'], [Units.Kwei, '1000'], [Units.Mwei, '1000000'], [Units.Gwei, '1000000000'], [Units.szabo, '1000000000000'], [Units.finney, '1000000000000000'], [Units.ether, '1000000000000000000'], [Units.one, '1000000000000000000'], [Units.Kether, '1000000000000000000000'], [Units.Mether, '1000000000000000000000000'], [Units.Gether, '1000000000000000000000000000'], [Units.Tether, '1000000000000000000000000000000']]);\n/** @hidden */\n\nvar DEFAULT_OPTIONS = {\n  pad: false\n};\n/**\n * Convert Number to String\n */\n\nexports.numberToString = function (obj, radix) {\n  if (radix === void 0) {\n    radix = 10;\n  }\n\n  if (bn_js_1.default.isBN(obj)) {\n    return obj.toString(radix);\n  } else if (validators_1.isNumber(obj)) {\n    return new bn_js_1.default(obj).toString(radix);\n  } else if (validators_1.isString(obj) && validators_1.isNumber(Number(obj))) {\n    return new bn_js_1.default(obj).toString(radix);\n  } else {\n    throw new Error(\"cannot parse number:\" + obj + \" to string\");\n  }\n};\n/**\n * Convert Number to String\n */\n\n\nexports.numToStr = function (input) {\n  if (typeof input === 'string') {\n    if (!input.match(/^-?[0-9.]+$/)) {\n      throw new Error(\"while converting number to string, invalid number value '\" + input + \"', should be a number matching (^-?[0-9.]+).\");\n    }\n\n    return input;\n  } else if (typeof input === 'number') {\n    return String(input);\n  } else if (bn_js_1.default.isBN(input)) {\n    return input.toString(10);\n  }\n\n  throw new Error(\"while converting number to string, invalid number value '\" + input + \"' type \" + typeof input + \".\");\n};\n\nexports.add0xToString = function (obj) {\n  if (validators_1.isString(obj) && !obj.startsWith('-')) {\n    return '0x' + obj.replace('0x', '');\n  } else if (validators_1.isString(obj) && obj.startsWith('-')) {\n    return '-0x' + obj.replace('-', '');\n  } else {\n    throw new Error(obj + \" is not String\");\n  }\n};\n\nexports.strip0x = function (obj) {\n  return obj.toLowerCase().replace('0x', '');\n};\n/**\n * Convert number to hex\n */\n\n\nexports.numberToHex = function (obj) {\n  try {\n    return exports.add0xToString(exports.numberToString(obj, 16));\n  } catch (error) {\n    throw error;\n  }\n};\n/**\n * Convert hex to Decimal number\n */\n\n\nexports.hexToNumber = function (hex) {\n  if (validators_1.isHex(hex) && hex[0] !== '-') {\n    return new bn_js_1.default(exports.strip0x(hex), 'hex').toString();\n  } else if (validators_1.isHex(hex) && hex[0] === '-') {\n    var result = new bn_js_1.default(hex.substring(3), 16);\n    return result.mul(new bn_js_1.default(-1)).toString();\n  } else {\n    throw new Error(hex + \" is not hex number\");\n  }\n};\n/**\n * Convert hex to Big Number\n */\n\n\nexports.hexToBN = function (hex) {\n  if (validators_1.isHex(hex) && hex[0] !== '-') {\n    return new bn_js_1.default(exports.strip0x(hex), 'hex');\n  } else if (validators_1.isHex(hex) && hex[0] === '-') {\n    var result = new bn_js_1.default(hex.substring(3), 16);\n    return result.mul(new bn_js_1.default(-1));\n  } else {\n    throw new Error(hex + \" is not hex number\");\n  }\n};\n/**\n * Converts any ONE value into wei\n */\n\n\nexports.toWei = function (input, unit) {\n  try {\n    var inputStr = exports.numToStr(input);\n    var baseStr = exports.unitMap.get(unit);\n\n    if (!baseStr) {\n      throw new Error(\"No unit of type \" + unit + \" exists.\");\n    }\n\n    var baseNumDecimals = baseStr.length - 1;\n    var base = new bn_js_1.default(baseStr, 10); // Is it negative?\n\n    var isNegative = inputStr.substring(0, 1) === '-';\n\n    if (isNegative) {\n      inputStr = inputStr.substring(1);\n    }\n\n    if (inputStr === '.') {\n      throw new Error(\"Cannot convert \" + inputStr + \" to wei.\");\n    } // Split it into a whole and fractional part\n\n\n    var comps = inputStr.split('.'); // eslint-disable-line\n\n    if (comps.length > 2) {\n      throw new Error(\"Cannot convert \" + inputStr + \" to wei.\");\n    }\n\n    var _a = tslib_1.__read(comps, 2),\n        whole = _a[0],\n        fraction = _a[1];\n\n    if (!whole) {\n      whole = '0';\n    }\n\n    if (!fraction) {\n      fraction = '0';\n    }\n\n    if (fraction.length > baseNumDecimals) {\n      throw new Error(\"Cannot convert \" + inputStr + \" to wei.\");\n    }\n\n    while (fraction.length < baseNumDecimals) {\n      fraction += '0';\n    }\n\n    var wholeBN = new bn_js_1.default(whole);\n    var fractionBN = new bn_js_1.default(fraction);\n    var wei = wholeBN.mul(base).add(fractionBN);\n\n    if (isNegative) {\n      wei = wei.neg();\n    }\n\n    return new bn_js_1.default(wei.toString(10), 10);\n  } catch (error) {\n    throw error;\n  }\n};\n/**\n * Converts any wei value into a ONE value.\n */\n\n\nexports.fromWei = function (wei, unit, options) {\n  if (options === void 0) {\n    options = DEFAULT_OPTIONS;\n  }\n\n  try {\n    var weiBN = !bn_js_1.default.isBN(wei) ? new bn_js_1.default(wei) : wei;\n\n    if (unit === 'wei') {\n      return weiBN.toString(10);\n    }\n\n    var baseStr = exports.unitMap.get(unit);\n\n    if (!baseStr) {\n      throw new Error(\"No unit of type \" + unit + \" exists.\");\n    }\n\n    var base = new bn_js_1.default(baseStr, 10);\n    var baseNumDecimals = baseStr.length - 1;\n    var fraction = weiBN.abs().mod(base).toString(10); // prepend 0s to the fraction half\n\n    while (fraction.length < baseNumDecimals) {\n      fraction = \"0\" + fraction;\n    }\n\n    if (!options.pad) {\n      /* eslint-disable prefer-destructuring */\n      var matchFraction = fraction.match(/^([0-9]*[1-9]|0)(0*)/);\n      fraction = matchFraction ? matchFraction[1] : '0';\n    }\n\n    var whole = weiBN.div(base).toString(10);\n    return fraction === '0' ? \"\" + whole : whole + \".\" + fraction;\n  } catch (error) {\n    throw error;\n  }\n};\n\nvar Unit = function () {\n  function Unit(str) {\n    if (!bn_js_1.default.isBN(str) && typeof str !== 'number' && validators_1.isHex(str)) {\n      this.unit = exports.hexToNumber(str);\n    } else if (!bn_js_1.default.isBN(str) && typeof str === 'number') {\n      this.unit = str.toString();\n    } else if (str === '0x') {\n      this.unit = exports.hexToNumber('0x0');\n    } else {\n      this.unit = str;\n    }\n\n    this.wei = new bn_js_1.default(this.unit);\n  }\n\n  Unit.from = function (str) {\n    return new Unit(str);\n  };\n\n  Unit.Wei = function (str) {\n    return new Unit(str).asWei();\n  };\n\n  Unit.Kwei = function (str) {\n    return new Unit(str).asKwei();\n  };\n\n  Unit.Mwei = function (str) {\n    return new Unit(str).asMwei();\n  };\n\n  Unit.Gwei = function (str) {\n    return new Unit(str).asGwei();\n  };\n\n  Unit.Szabo = function (str) {\n    return new Unit(str).asSzabo();\n  };\n\n  Unit.Finney = function (str) {\n    return new Unit(str).asFinney();\n  };\n\n  Unit.Ether = function (str) {\n    return new Unit(str).asEther();\n  };\n\n  Unit.One = function (str) {\n    return new Unit(str).asOne();\n  };\n\n  Unit.Kether = function (str) {\n    return new Unit(str).asKether();\n  };\n\n  Unit.Mether = function (str) {\n    return new Unit(str).asMether();\n  };\n\n  Unit.Gether = function (str) {\n    return new Unit(str).asGether();\n  };\n\n  Unit.Tether = function (str) {\n    return new Unit(str).asTether();\n  };\n\n  Unit.prototype.asWei = function () {\n    this.wei = new bn_js_1.default(this.unit);\n    return this;\n  };\n\n  Unit.prototype.asKwei = function () {\n    this.wei = exports.toWei(this.unit, Units.Kwei);\n    return this;\n  };\n\n  Unit.prototype.asMwei = function () {\n    this.wei = exports.toWei(this.unit, Units.Mwei);\n    return this;\n  };\n\n  Unit.prototype.asGwei = function () {\n    this.wei = exports.toWei(this.unit, Units.Gwei);\n    return this;\n  };\n\n  Unit.prototype.asSzabo = function () {\n    this.wei = exports.toWei(this.unit, Units.szabo);\n    return this;\n  };\n\n  Unit.prototype.asFinney = function () {\n    this.wei = exports.toWei(this.unit, Units.finney);\n    return this;\n  };\n\n  Unit.prototype.asEther = function () {\n    this.wei = exports.toWei(this.unit, Units.ether);\n    return this;\n  };\n\n  Unit.prototype.asOne = function () {\n    this.wei = exports.toWei(this.unit, Units.one);\n    return this;\n  };\n\n  Unit.prototype.asKether = function () {\n    this.wei = exports.toWei(this.unit, Units.Kether);\n    return this;\n  };\n\n  Unit.prototype.asMether = function () {\n    this.wei = exports.toWei(this.unit, Units.Mether);\n    return this;\n  };\n\n  Unit.prototype.asGether = function () {\n    this.wei = exports.toWei(this.unit, Units.Gether);\n    return this;\n  };\n\n  Unit.prototype.asTether = function () {\n    this.wei = exports.toWei(this.unit, Units.Tether);\n    return this;\n  };\n\n  Unit.prototype.toWei = function () {\n    if (this.wei) {\n      return this.wei;\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  Unit.prototype.toKwei = function () {\n    if (this.wei) {\n      return exports.fromWei(this.wei, Units.Kwei);\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  Unit.prototype.toGwei = function () {\n    if (this.wei) {\n      return exports.fromWei(this.wei, Units.Gwei);\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  Unit.prototype.toMwei = function () {\n    if (this.wei) {\n      return exports.fromWei(this.wei, Units.Mwei);\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  Unit.prototype.toSzabo = function () {\n    if (this.wei) {\n      return exports.fromWei(this.wei, Units.szabo);\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  Unit.prototype.toFinney = function () {\n    if (this.wei) {\n      return exports.fromWei(this.wei, Units.finney);\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  Unit.prototype.toEther = function () {\n    if (this.wei) {\n      return exports.fromWei(this.wei, Units.ether);\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  Unit.prototype.toOne = function () {\n    if (this.wei) {\n      return exports.fromWei(this.wei, Units.one);\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  Unit.prototype.toKether = function () {\n    if (this.wei) {\n      return exports.fromWei(this.wei, Units.Kether);\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  Unit.prototype.toMether = function () {\n    if (this.wei) {\n      return exports.fromWei(this.wei, Units.Mether);\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  Unit.prototype.toGether = function () {\n    if (this.wei) {\n      return exports.fromWei(this.wei, Units.Gether);\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  Unit.prototype.toTether = function () {\n    if (this.wei) {\n      return exports.fromWei(this.wei, Units.Tether);\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  Unit.prototype.toWeiString = function () {\n    if (this.wei) {\n      return this.wei.toString();\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  Unit.prototype.toHex = function () {\n    if (this.wei) {\n      return exports.numberToHex(this.wei);\n    } else {\n      throw new Error('error transforming');\n    }\n  };\n\n  return Unit;\n}();\n\nexports.Unit = Unit;","map":{"version":3,"sources":["../src/transformers.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n/**\n * @packageDocumentation\n * @module harmony-utils\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Unit = exports.fromWei = exports.toWei = exports.hexToBN = exports.hexToNumber = exports.numberToHex = exports.strip0x = exports.add0xToString = exports.numToStr = exports.numberToString = exports.unitMap = exports.Units = void 0;\nvar tslib_1 = require(\"tslib\");\nvar bn_js_1 = tslib_1.__importDefault(require(\"bn.js\"));\nvar validators_1 = require(\"./validators\");\nvar Units;\n(function (Units) {\n    Units[\"wei\"] = \"wei\";\n    Units[\"Kwei\"] = \"Kwei\";\n    Units[\"Mwei\"] = \"Mwei\";\n    Units[\"Gwei\"] = \"Gwei\";\n    Units[\"szabo\"] = \"szabo\";\n    Units[\"finney\"] = \"finney\";\n    Units[\"ether\"] = \"ether\";\n    Units[\"one\"] = \"one\";\n    Units[\"Kether\"] = \"Kether\";\n    Units[\"Mether\"] = \"Mether\";\n    Units[\"Gether\"] = \"Gether\";\n    Units[\"Tether\"] = \"Tether\";\n})(Units = exports.Units || (exports.Units = {}));\n/** @hidden */\nexports.unitMap = new Map([\n    [Units.wei, '1'],\n    [Units.Kwei, '1000'],\n    [Units.Mwei, '1000000'],\n    [Units.Gwei, '1000000000'],\n    [Units.szabo, '1000000000000'],\n    [Units.finney, '1000000000000000'],\n    [Units.ether, '1000000000000000000'],\n    [Units.one, '1000000000000000000'],\n    [Units.Kether, '1000000000000000000000'],\n    [Units.Mether, '1000000000000000000000000'],\n    [Units.Gether, '1000000000000000000000000000'],\n    [Units.Tether, '1000000000000000000000000000000'],\n]);\n/** @hidden */\nvar DEFAULT_OPTIONS = {\n    pad: false,\n};\n/**\n * Convert Number to String\n */\nexports.numberToString = function (obj, radix) {\n    if (radix === void 0) { radix = 10; }\n    if (bn_js_1.default.isBN(obj)) {\n        return obj.toString(radix);\n    }\n    else if (validators_1.isNumber(obj)) {\n        return new bn_js_1.default(obj).toString(radix);\n    }\n    else if (validators_1.isString(obj) && validators_1.isNumber(Number(obj))) {\n        return new bn_js_1.default(obj).toString(radix);\n    }\n    else {\n        throw new Error(\"cannot parse number:\" + obj + \" to string\");\n    }\n};\n/**\n * Convert Number to String\n */\nexports.numToStr = function (input) {\n    if (typeof input === 'string') {\n        if (!input.match(/^-?[0-9.]+$/)) {\n            throw new Error(\"while converting number to string, invalid number value '\" + input + \"', should be a number matching (^-?[0-9.]+).\");\n        }\n        return input;\n    }\n    else if (typeof input === 'number') {\n        return String(input);\n    }\n    else if (bn_js_1.default.isBN(input)) {\n        return input.toString(10);\n    }\n    throw new Error(\"while converting number to string, invalid number value '\" + input + \"' type \" + typeof input + \".\");\n};\nexports.add0xToString = function (obj) {\n    if (validators_1.isString(obj) && !obj.startsWith('-')) {\n        return '0x' + obj.replace('0x', '');\n    }\n    else if (validators_1.isString(obj) && obj.startsWith('-')) {\n        return '-0x' + obj.replace('-', '');\n    }\n    else {\n        throw new Error(obj + \" is not String\");\n    }\n};\nexports.strip0x = function (obj) {\n    return obj.toLowerCase().replace('0x', '');\n};\n/**\n * Convert number to hex\n */\nexports.numberToHex = function (obj) {\n    try {\n        return exports.add0xToString(exports.numberToString(obj, 16));\n    }\n    catch (error) {\n        throw error;\n    }\n};\n/**\n * Convert hex to Decimal number\n */\nexports.hexToNumber = function (hex) {\n    if (validators_1.isHex(hex) && hex[0] !== '-') {\n        return new bn_js_1.default(exports.strip0x(hex), 'hex').toString();\n    }\n    else if (validators_1.isHex(hex) && hex[0] === '-') {\n        var result = new bn_js_1.default(hex.substring(3), 16);\n        return result.mul(new bn_js_1.default(-1)).toString();\n    }\n    else {\n        throw new Error(hex + \" is not hex number\");\n    }\n};\n/**\n * Convert hex to Big Number\n */\nexports.hexToBN = function (hex) {\n    if (validators_1.isHex(hex) && hex[0] !== '-') {\n        return new bn_js_1.default(exports.strip0x(hex), 'hex');\n    }\n    else if (validators_1.isHex(hex) && hex[0] === '-') {\n        var result = new bn_js_1.default(hex.substring(3), 16);\n        return result.mul(new bn_js_1.default(-1));\n    }\n    else {\n        throw new Error(hex + \" is not hex number\");\n    }\n};\n/**\n * Converts any ONE value into wei\n */\nexports.toWei = function (input, unit) {\n    try {\n        var inputStr = exports.numToStr(input);\n        var baseStr = exports.unitMap.get(unit);\n        if (!baseStr) {\n            throw new Error(\"No unit of type \" + unit + \" exists.\");\n        }\n        var baseNumDecimals = baseStr.length - 1;\n        var base = new bn_js_1.default(baseStr, 10);\n        // Is it negative?\n        var isNegative = inputStr.substring(0, 1) === '-';\n        if (isNegative) {\n            inputStr = inputStr.substring(1);\n        }\n        if (inputStr === '.') {\n            throw new Error(\"Cannot convert \" + inputStr + \" to wei.\");\n        }\n        // Split it into a whole and fractional part\n        var comps = inputStr.split('.'); // eslint-disable-line\n        if (comps.length > 2) {\n            throw new Error(\"Cannot convert \" + inputStr + \" to wei.\");\n        }\n        var _a = tslib_1.__read(comps, 2), whole = _a[0], fraction = _a[1];\n        if (!whole) {\n            whole = '0';\n        }\n        if (!fraction) {\n            fraction = '0';\n        }\n        if (fraction.length > baseNumDecimals) {\n            throw new Error(\"Cannot convert \" + inputStr + \" to wei.\");\n        }\n        while (fraction.length < baseNumDecimals) {\n            fraction += '0';\n        }\n        var wholeBN = new bn_js_1.default(whole);\n        var fractionBN = new bn_js_1.default(fraction);\n        var wei = wholeBN.mul(base).add(fractionBN);\n        if (isNegative) {\n            wei = wei.neg();\n        }\n        return new bn_js_1.default(wei.toString(10), 10);\n    }\n    catch (error) {\n        throw error;\n    }\n};\n/**\n * Converts any wei value into a ONE value.\n */\nexports.fromWei = function (wei, unit, options) {\n    if (options === void 0) { options = DEFAULT_OPTIONS; }\n    try {\n        var weiBN = !bn_js_1.default.isBN(wei) ? new bn_js_1.default(wei) : wei;\n        if (unit === 'wei') {\n            return weiBN.toString(10);\n        }\n        var baseStr = exports.unitMap.get(unit);\n        if (!baseStr) {\n            throw new Error(\"No unit of type \" + unit + \" exists.\");\n        }\n        var base = new bn_js_1.default(baseStr, 10);\n        var baseNumDecimals = baseStr.length - 1;\n        var fraction = weiBN\n            .abs()\n            .mod(base)\n            .toString(10);\n        // prepend 0s to the fraction half\n        while (fraction.length < baseNumDecimals) {\n            fraction = \"0\" + fraction;\n        }\n        if (!options.pad) {\n            /* eslint-disable prefer-destructuring */\n            var matchFraction = fraction.match(/^([0-9]*[1-9]|0)(0*)/);\n            fraction = matchFraction ? matchFraction[1] : '0';\n        }\n        var whole = weiBN.div(base).toString(10);\n        return fraction === '0' ? \"\" + whole : whole + \".\" + fraction;\n    }\n    catch (error) {\n        throw error;\n    }\n};\nvar Unit = /** @class */ (function () {\n    function Unit(str) {\n        if (!bn_js_1.default.isBN(str) && typeof str !== 'number' && validators_1.isHex(str)) {\n            this.unit = exports.hexToNumber(str);\n        }\n        else if (!bn_js_1.default.isBN(str) && typeof str === 'number') {\n            this.unit = str.toString();\n        }\n        else if (str === '0x') {\n            this.unit = exports.hexToNumber('0x0');\n        }\n        else {\n            this.unit = str;\n        }\n        this.wei = new bn_js_1.default(this.unit);\n    }\n    Unit.from = function (str) {\n        return new Unit(str);\n    };\n    Unit.Wei = function (str) {\n        return new Unit(str).asWei();\n    };\n    Unit.Kwei = function (str) {\n        return new Unit(str).asKwei();\n    };\n    Unit.Mwei = function (str) {\n        return new Unit(str).asMwei();\n    };\n    Unit.Gwei = function (str) {\n        return new Unit(str).asGwei();\n    };\n    Unit.Szabo = function (str) {\n        return new Unit(str).asSzabo();\n    };\n    Unit.Finney = function (str) {\n        return new Unit(str).asFinney();\n    };\n    Unit.Ether = function (str) {\n        return new Unit(str).asEther();\n    };\n    Unit.One = function (str) {\n        return new Unit(str).asOne();\n    };\n    Unit.Kether = function (str) {\n        return new Unit(str).asKether();\n    };\n    Unit.Mether = function (str) {\n        return new Unit(str).asMether();\n    };\n    Unit.Gether = function (str) {\n        return new Unit(str).asGether();\n    };\n    Unit.Tether = function (str) {\n        return new Unit(str).asTether();\n    };\n    Unit.prototype.asWei = function () {\n        this.wei = new bn_js_1.default(this.unit);\n        return this;\n    };\n    Unit.prototype.asKwei = function () {\n        this.wei = exports.toWei(this.unit, Units.Kwei);\n        return this;\n    };\n    Unit.prototype.asMwei = function () {\n        this.wei = exports.toWei(this.unit, Units.Mwei);\n        return this;\n    };\n    Unit.prototype.asGwei = function () {\n        this.wei = exports.toWei(this.unit, Units.Gwei);\n        return this;\n    };\n    Unit.prototype.asSzabo = function () {\n        this.wei = exports.toWei(this.unit, Units.szabo);\n        return this;\n    };\n    Unit.prototype.asFinney = function () {\n        this.wei = exports.toWei(this.unit, Units.finney);\n        return this;\n    };\n    Unit.prototype.asEther = function () {\n        this.wei = exports.toWei(this.unit, Units.ether);\n        return this;\n    };\n    Unit.prototype.asOne = function () {\n        this.wei = exports.toWei(this.unit, Units.one);\n        return this;\n    };\n    Unit.prototype.asKether = function () {\n        this.wei = exports.toWei(this.unit, Units.Kether);\n        return this;\n    };\n    Unit.prototype.asMether = function () {\n        this.wei = exports.toWei(this.unit, Units.Mether);\n        return this;\n    };\n    Unit.prototype.asGether = function () {\n        this.wei = exports.toWei(this.unit, Units.Gether);\n        return this;\n    };\n    Unit.prototype.asTether = function () {\n        this.wei = exports.toWei(this.unit, Units.Tether);\n        return this;\n    };\n    Unit.prototype.toWei = function () {\n        if (this.wei) {\n            return this.wei;\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    Unit.prototype.toKwei = function () {\n        if (this.wei) {\n            return exports.fromWei(this.wei, Units.Kwei);\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    Unit.prototype.toGwei = function () {\n        if (this.wei) {\n            return exports.fromWei(this.wei, Units.Gwei);\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    Unit.prototype.toMwei = function () {\n        if (this.wei) {\n            return exports.fromWei(this.wei, Units.Mwei);\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    Unit.prototype.toSzabo = function () {\n        if (this.wei) {\n            return exports.fromWei(this.wei, Units.szabo);\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    Unit.prototype.toFinney = function () {\n        if (this.wei) {\n            return exports.fromWei(this.wei, Units.finney);\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    Unit.prototype.toEther = function () {\n        if (this.wei) {\n            return exports.fromWei(this.wei, Units.ether);\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    Unit.prototype.toOne = function () {\n        if (this.wei) {\n            return exports.fromWei(this.wei, Units.one);\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    Unit.prototype.toKether = function () {\n        if (this.wei) {\n            return exports.fromWei(this.wei, Units.Kether);\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    Unit.prototype.toMether = function () {\n        if (this.wei) {\n            return exports.fromWei(this.wei, Units.Mether);\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    Unit.prototype.toGether = function () {\n        if (this.wei) {\n            return exports.fromWei(this.wei, Units.Gether);\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    Unit.prototype.toTether = function () {\n        if (this.wei) {\n            return exports.fromWei(this.wei, Units.Tether);\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    Unit.prototype.toWeiString = function () {\n        if (this.wei) {\n            return this.wei.toString();\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    Unit.prototype.toHex = function () {\n        if (this.wei) {\n            return exports.numberToHex(this.wei);\n        }\n        else {\n            throw new Error('error transforming');\n        }\n    };\n    return Unit;\n}());\nexports.Unit = Unit;\n//# sourceMappingURL=transformers.js.map"]},"metadata":{},"sourceType":"script"}