"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.depositOne = void 0;
const interfaces_1 = require("../interfaces");
const logs_1 = require("../utils/logs");
const operation_helpers_1 = require("../operation-helpers");
exports.depositOne = async (api, operationParams, ethMethods, hmyMethods, prefix) => {
    const operation = await api.getOperation(operationParams.id);
    const depositAction = operation_helpers_1.getActionByType(operation, interfaces_1.ACTION_TYPE.depositOne);
    if (depositAction && depositAction.status === interfaces_1.STATUS.WAITING) {
        logs_1.logger.pending({ prefix, message: 'depositOne' });
        const res = await hmyMethods.deposit(depositAction.depositAmount, (hash) => operation_helpers_1.confirmCallback(api, hash, depositAction.type, operation.id));
        logs_1.logger.info({ prefix, message: 'Status: ' + res.status });
        logs_1.logger.success({ prefix, message: 'depositOne' });
    }
    return true;
};
